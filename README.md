# Node.js
Node.js 공부용 레포

### **Node.js란?**

Chrome의 V8엔진을 이용하여 브라우저에서 JavaScript를 해석하듯이 서버에서 JavaScript를 동작할 수 있도록 하는 환경(플랫폼) 

Node.js는 클라이언트 브라우저 외부에서 웹 애플리케이션을 실행하기 위한 **오픈소스 크로스 플랫폼 Javascript 런타임 환경 및 라이브러리**이다. 서버 측 웹 응용 프로그램을 만드는 데 사용된다.

Node.js는 비동기식 이벤트 기반 모델을 사용하므로 데이터 집약적인 애플리케이션에 적합하다. 실시간 웹 애플리케이션, 네트워크 애플리케이션, 범용 애플리케이션 및 분산 시스템 개발에도 사용할 수 있다.

### Node.js의 장점?

Node.js를 사용하면 확장 가능한 네트워크 프로그램을 쉽게 구축할 수 있다.

- 빠르다
- 통합 프로그래밍 언어 및 데이터 유형을 제공한다
- 모든 것이 비동기적이다
- 뛰어난 동시성을 제공한다
- 강력한 라이브러리들과 커뮤니티 존재

### Node.js 특징

- JavaScript Runtime 환경
    - JavaScript Engine V8 → Chrome과 Opera에서 쓰임
- Single Thread
    - 싱글 스레드 지만 비동기 I/O 작업을 통해 요청들을 서로 블로킹하지 않음
    즉 동시에 많은 요청들을 비동기로 수행함으로써 싱글 스레드 일지라도 논블로킹이 가능
- Non-Blocking I/O
    - I/O ? ⇒ 매체와 데이터를 주고 받는 모든 프로그램, 작업 또는 장치를 설명하는 데 사용된다. 모든 전송은 한 매체의 출력과 다른 매체의 입력이다
    - Non-Blocking I/O ? ⇒ I/O를 할때 기다리지 않고, Callback을 던져준후 다음으로 넘어감
- Event-driven programming 이벤트 기반 프로그래밍
    - 이벤트를 통해 내가 등록한 callback을 실행 가능하다
        
        ⇒ 내가 던진 callback이 다 실행되면 **이벤트를 통해** 내가 등록한 callback을 호출할 수 있음.
        
    - 이벤트 기반이란 이벤트가 발생할 때 미리 지정해둔 작업을 처리하는 방식입니다.
        
        NodeJS는 이벤트 리스너에 등록해둔 콜백 함수를 실행하는 방식으로 동작합니다. 즉 이벤트 루프가 이를 가능하게 해 줍니다.
        

### JavaScript의 변수 선언과 할당

~~그냥저냥 const, var, let 가져다 쓰기만 했지, 실제로 변수가 메모리 할당을 하고 런타임시 호이스팅 되는 개념 잘 몰랐음.~~

![image](https://user-images.githubusercontent.com/74397919/176620193-8ed50939-1299-44d8-854e-0ca99e94df78.png)

- 자바스크립트에서 변수(variable)는 하나의 값을 저장하기 위해 **확보한 메모리 공간** 자체 또는 그 메모리 **공간을 식별하기 위해 붙인 이름**을 말한다.

```jsx
const myNumber = 23
// 변수명(식별자): myNumber
// 해당 값의 위치(메모리 주소): 0012CCGWH80
// 변수 값(저장된 값): 23
```

### Node.js 런타임 환경 (🙅‍♂️Don’t block the event loop)

고수준의 작업(로직짜기 등등…)은 **내가**

저수준의 작업(파일 불러오기, 가벼운 계산 등등…)은 **Node.js API가**

![좌측의 JS App은 싱글 스레드이지만 Web API는 멀티스레딩이 가능 ! ⇒ 병렬적으로 일 처리] ![image](https://user-images.githubusercontent.com/74397919/176620430-09bb5960-4ef5-4958-8269-3e7a7124ad04.png)

좌측의 JS App은 싱글 스레드이지만 Web API는 멀티스레딩이 가능 ! ⇒ 병렬적으로 일 처리

Ex)  main() 함수가 실행될 때

1. main()함수 코드가 Call Stack에 쌓이게 된다.
2. Javascript 엔진은 비동기 작업을 Web API에게 위임함.
3. Web API는 해당 비동기 작업(대표 예 : setTimeout)을 수행하고 콜백 함수를 이벤트 루프를 통해 테스크 큐(선입선출)에 넘겨주게 됩니다.
4. 이벤트루프는 콜 스택에 쌓여있는 함수가 없을때 태스크 큐에서 대기하고 있던 콜백함수를 콜스택으로 넘겨주게 된다. ⇒ **콜스택이 쌓여있는 상태면 들어오지 못한다 !**
5. 콜스택에 쌓인 콜백 함수가 실행되고 콜 스택에서 제거 ⇒ 이벤트 루프가 테스크 큐에 콜백함수가 있다면 이제서야 콜스택으로 넘김
